<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Computational Network Toolkit</title>
	
	<meta name="author" content="sohero">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/css/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<link rel="shortcut icon" href="favicon.ico">
    <!-- Update these with your own images
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS_HTML"></script>
    
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/sohero">
				<i class="fa fa-github"></i>
			</a>
			
			
			
			<a type="button" class="navbar-toggle nav-link" href="mailto:herosgq@gmail.com">
				<i class="fa fa-envelope"></i>
			</a>
			
            <input type="text" class="st-default-search-input navbar-toggle" style="width:100px;">
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/categories.html">Categories</a></li>
				<li><a href="/tags.html">Tags</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>

	<div class="col-sm-3 sidebar hidden-xs">
		<!-- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="/assets/images/bl.png" class="img-circle" />
	</a>
	<h3 class="title">
        <a href="/"></a>
    </h3>
</header>


<div id="bio" class="text-center">
	An elder's memo.
</div>


<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/sohero">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:herosgq@gmail.com">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
        <li>
			<a class="btn btn-default btn-sm" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<div style="width:171px;margin-left:auto;margin-right:auto;">
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','ajvL7F6K122b67uo9oa2','2.0.0');
</script>
<input type="text" class="st-default-search-input" style="width:130px;">
</div>
<!-- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3">
		<div class="page-header">
  <h1>Computational Network Toolkit </h1>
</div>
	
<article>

	<div class="col-sm-10">
	 <span class="post-date">
	 	2016-02-19 
	 </span>
	  <div class="article_body">
	  <ul>
<li>A computational network is a style of computation where data flows through a graph and computations happen in the nodes of the graph.</li>
<li>A user specifies a network using a simple text configuration file. The configuration file specifies the type of network, where to find the input data, and how to optimize the parameters. All of these design parameters are fixed in the configuration file.</li>
<li>All configuration values are specified as a name-value pair. A value can be a numeric, a string, a list, or even a block of configurations.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">ModelDir <span class="op">=</span> <span class="st">&quot;$OutputDir$/Models&quot;</span> <span class="co">#define a variable</span>
modelPath <span class="op">=</span> <span class="st">&quot;$ModelDir$/01_OneHidden&quot;</span>
command<span class="op">=</span>mnistTrain
deviceId <span class="op">=</span> <span class="dv">0</span> <span class="co"># auto, -1 for CPU, &gt;=0 to use a specific GPU</span>
mnistTrain<span class="op">=</span>[
    action<span class="op">=</span><span class="st">&quot;train&quot;</span>
    NDLNetworkBuilder<span class="op">=</span>[
        networkDescription<span class="op">=</span><span class="st">&quot;c:\cntk\config\sample.ndl&quot;</span>
        run<span class="op">=</span>ndlMacroUse
    ]

    SGD<span class="op">=</span>[
        modelPath<span class="op">=</span><span class="st">&quot;c:\cntk\model\mnist.cn&quot;</span>
        learningRatesPerMB<span class="op">=</span><span class="fl">0.001</span>
        minibatchSize<span class="op">=</span><span class="dv">32</span>
        epochSize<span class="op">=</span><span class="dv">60000</span>
        maxEpochs<span class="op">=</span><span class="dv">50</span>
    ]

    reader<span class="op">=</span>[
        readerType<span class="op">=</span><span class="st">&quot;UCIFastReader&quot;</span>
        <span class="bu">file</span><span class="op">=</span><span class="st">&quot;c:\cntk\data\mnist\mnist_train.txt&quot;</span>
        features<span class="op">=</span>[
            dim<span class="op">=</span><span class="dv">784</span>
            start<span class="op">=</span><span class="dv">1</span>
        ]

        labels<span class="op">=</span>[
            dim<span class="op">=</span><span class="dv">1</span>
            start<span class="op">=</span><span class="dv">0</span>
            labelDim<span class="op">=</span><span class="dv">10</span>
            labelMappingFile<span class="op">=</span><span class="st">&quot;c:\cntk\data\mnist\mnistlabels.txt&quot;</span>
        ]
    ]
]</code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co">#Variables</span>
<span class="co">#A variable can contain a matrix or scalar value. Variables are immutable, and assigning new values to an existing variable is not supported.</span>
<span class="co">#The special node names FeatureNodes, LabelNodes, CriterionNodes, EvalNodes, OutputNodes are also reserved and may not be used as variable names.</span>
SDim<span class="op">=</span><span class="dv">784</span>
HDim<span class="op">=</span><span class="dv">256</span>
LDim<span class="op">=</span><span class="dv">10</span>

<span class="co">#Inputs</span>
<span class="co">#Inputs are used to represent input data and labels associated with the samples. Input is a special function. They are represented as InputNodes internally and are not saved as part of the CN model.</span>
features<span class="op">=</span>Input(SDim, <span class="dv">1</span>)
labels<span class="op">=</span>Input(LDim, <span class="dv">1</span>)

<span class="co">#Parameters</span>
W0<span class="op">=</span>Parameter(HDim, SDim)
B0<span class="op">=</span>Parameter(HDim, <span class="dv">1</span>)
W1<span class="op">=</span>Parameter(LDim, HDim)
B1<span class="op">=</span>Parameter(LDim, <span class="dv">1</span>)

<span class="co">#Computation</span>
Times1<span class="op">=</span>Times(W0, features)
Plus1<span class="op">=</span>Plus(Times1, B0)
RL1<span class="op">=</span>RectifiedLinear(Plus1)
Times2<span class="op">=</span>Times(W1, RL1)
Plus2<span class="op">=</span>Plus(Times2, B1)
<span class="co">#Training Criterion</span>
CE<span class="op">=</span>CrossEntropyWithSoftmax(labels, Plus2)
<span class="co">#Test Objective Function</span>
ErrPredict<span class="op">=</span>ErrorPrediction(labels, Plus2)
<span class="co">#Special Nodes</span>
FeatureNodes<span class="op">=</span>(features)
LabelNodes<span class="op">=</span>(labels)
CriterionNodes<span class="op">=</span>(CE)
EvalNodes<span class="op">=</span>(ErrPredict)
OutputNodes<span class="op">=</span>(Plus2)</code></pre></div>

	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#tools-ref">
					tools <span>(5)</span>
					
				</a></li>
			
		  
		</ul>
		  

		
		<ul class="list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#tools-ref">
					tools <span>(5)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#Microsoft-ref">
					Microsoft <span>(1)</span>
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#deep learning-ref">
					deep learning <span>(2)</span>
					
					</a>
				</li>
			
		  
		  
		</ul>
		  

		<hr>

		<div>
      <section class="share col-sm-12">
        <h4 class="section-title">Share Post</h4>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Computational Network Toolkit"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" href="https://www.facebook.com/sharer/sharer.php"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
        <a class="btn btn-default btn-sm gplus"
           onclick="window.open('https://plus.google.com/share?url='+window.location.href, 'google-plus-share', 'width=490,height=530');return false;">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
      </section>
    </div>

    <div class="clearfix"></div>

		<ul class="pager">
		  
		  <li class="previous"><a href="/foundation/2016/02/14/correlations.html" title="Correlations">&larr; Previous</a></li>
		  
		  
			<li class="next disabled"><a>Next &rarr;</a>
		  
		</ul>

		<hr>
	</div>
	
	<div class="col-sm-2 sidebar-2">
	
	</div>
</article>
<div class="clearfix"></div>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>




		<footer>
			<hr/>
			<p>
				&copy; 2016 <a href="http://guoqiang.gq">sohero</a>.
			</p>
		</footer>
	</div>

	<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
	<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>



